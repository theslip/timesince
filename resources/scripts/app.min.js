function onDomReady(){var a=document.getElementById("difference"),b=document.getElementById("date");b.focus(),a.disabled=!0,a.classList.add("invisible"),watchForEnterKeyOnDateInput(b)}function watchForEnterKeyOnDateInput(a){a.onkeypress=function(a){var b=a.keyCode||a.which;"13"==b&&app.main()}}function fadeWebPageIn(){document.body.classList.add("visible")}var app=app||{};app.main=function(){var a=document.getElementById("difference"),b=app.getDifferenceBetweenDates(),c="";_.each(b,function(a,d){c+=a.time+" "+a.name,b.length-1!==d&&(c+=", ")}),_.isEmpty(c)?app.hideDifferenceInput(a):app.showDifferenceInput(a,c)},app.getDateFromInput=function(){var a=app.getTextFromElement("date");return a=new Date(a),a=moment(a)},app.getDifferenceBetweenDates=function(){var a=app.getDateFromInput(),b=moment(),c=[],d=["years","months","weeks","days","hours","minutes"];return _.each(d,function(d,e){var f=new app.dateDifference(d,b,a);_.isUndefined(f.time)||c.push(f)}),c},app.getTextFromElement=function(a){return document.getElementById(a).value},app.setTextInElement=function(a,b){document.getElementById(a).value=b},app.showDifferenceInput=function(a,b){app.setTextInElement("difference",b),a.classList.add("cursor-text"),a.classList.remove("invisible")},app.hideDifferenceInput=function(a){a.classList.remove("cursor-text"),a.classList.add("invisible")},app.dateDifference=function(a,b,c){this.name=a,this.date1=b,this.date2=c,this.time=this.addDifference(this.date1,this.date2,a)},app.dateDifference.prototype.addDifference=function(a,b,c){var d=a.diff(b,c)||void 0;return b.add(moment.duration(d,c)),d},document.addEventListener("DOMContentLoaded",function a(){document.removeEventListener("DOMContentLoaded",a,!1),onDomReady()},!1),window.addEventListener("load",function b(){window.removeEventListener("load",b,!1),fadeWebPageIn()},!1);
