function onDomReady(){var a=document.getElementById("difference"),b=document.getElementById("date");b.focus(),a.disabled=!0,a.classList.add("invisible"),watchForEnterKeyOnDateInput(b)}function watchForEnterKeyOnDateInput(a){a.onkeypress=function(a){var b=a.keyCode||a.which;if("13"==b){var c=new App;c.main()}}}function fadeWebPageIn(){document.body.classList.add("visible")}App=function(){var a=function(){var b="/difference";this.main=function(){var a={date:this.getDateFromInput()};this.postUserInputToServer(b,a,this.successHandler)},this.getDateFromInput=function(){var b=a.getTextFromElement("date");return b=new Date(b)}};return a.prototype.postUserInputToServer=function(a,b,c){console.log(b);var d=(new App,new XMLHttpRequest);d.open("POST",a,!0),d.setRequestHeader("Content-type","application/json"),d.addEventListener("readystatechange",function(){console.log(d),200==d.status&&4==d.readyState?(console.log("success"),c(d.responseText)):console.log("Request failed to send")}),d.addEventListener("error",function(){console.log("Server did not respond")}),b=JSON.stringify(b),d.send(b)},a.prototype.successHandler=function(b){var c=document.getElementById("difference");b&&""!=b?a.showInput(c,b):a.hideInput(c)},a.getTextFromElement=function(a){return document.getElementById(a).value},a.setTextInElement=function(a,b){document.getElementById(a).value=b},a.showInput=function(b,c){a.setTextInElement("difference",c),b.classList.add("cursor-text"),b.classList.remove("invisible")},a.hideInput=function(a){a.classList.remove("cursor-text"),a.classList.add("invisible")},a}(),document.addEventListener("DOMContentLoaded",function a(){document.removeEventListener("DOMContentLoaded",a,!1),onDomReady()},!1),window.addEventListener("load",function b(){window.removeEventListener("load",b,!1),fadeWebPageIn()},!1);
